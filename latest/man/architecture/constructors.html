<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Architecture Constructors · Mapper2.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Mapper2.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><span class="toctext">Architecture Modeling</span><ul><li><a class="toctext" href="types.html">Core Types</a></li><li><a class="toctext" href="components.html">AbstractComponent</a></li><li class="current"><a class="toctext" href="constructors.html">Architecture Constructors</a><ul class="internal"><li><a class="toctext" href="#Creating-Links-at-the-[TopLevel](@ref)-1">Creating Links at the <code>TopLevel</code></a></li></ul></li></ul></li><li><a class="toctext" href="../taskgraph.html">Taskgraph</a></li><li><a class="toctext" href="../map.html">Map</a></li><li><a class="toctext" href="../extensions.html">Extensions</a></li><li><span class="toctext">Simulated Annealing Placement</span><ul><li><a class="toctext" href="../SA/placement.html">Simulated Annealing</a></li><li><a class="toctext" href="../SA/sastruct.html">SAStruct</a></li><li><a class="toctext" href="../SA/methods.html">Extentable Methods</a></li><li><a class="toctext" href="../SA/types.html">Extendable Types</a></li><li><a class="toctext" href="../SA/distance.html">SADistance</a></li><li><a class="toctext" href="../SA/move_generators.html">Move Generators</a></li><li><a class="toctext" href="../SA/map_tables.html">MapTables</a></li></ul></li><li><span class="toctext">Routing</span><ul><li><a class="toctext" href="../routing/routing.html">Routing</a></li><li><a class="toctext" href="../routing/struct.html">Routing Struct</a></li><li><a class="toctext" href="../routing/links.html">Routing Links</a></li><li><a class="toctext" href="../routing/channels.html">Routing Channels</a></li><li><a class="toctext" href="../routing/graph.html">Routing Graph</a></li></ul></li><li><a class="toctext" href="../mappergraphs.html">MapperGraphs</a></li><li><a class="toctext" href="../helper.html">Helper Functions</a></li><li><a class="toctext" href="../paths.html">Paths</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li>Architecture Modeling</li><li><a href="constructors.html">Architecture Constructors</a></li></ul><a class="edit-page" href="https://github.com/hildebrandmw/Mapper2.jl/blob/master/docs/src/man/architecture/constructors.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Architecture Constructors</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Architecture-Constructors-1" href="#Architecture-Constructors-1">Architecture Constructors</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.add_port" href="#Mapper2.MapperCore.add_port"><code>Mapper2.MapperCore.add_port</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">add_port(component, name, class, [number]; metadata = emptymeta())</code></pre><p>Add <code>number</code> ports with the given <code>name</code> and <code>class</code>. Ports names will be the provided suffix with bracket-vector notation. If <code>number</code> is not given, the port will be added directly.</p><p>For example, the function call <code>add_port(component, &quot;test&quot;, &quot;input&quot;, 3)</code> should  add 3 <code>input</code> ports to component <code>c</code> with names: <code>test[2], test[1], test[0]</code>.</p><p>If <code>metadata</code> is given, it will be assigned to each instantiated port. If <code>metadata</code> is a vector with <code>length(metadata) == number</code>, than entries of <code>metadata</code> will be sequentially assigned to each instantiated port.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/188b7d7b8f74593ef125f94de64ed61a1a6b44ab/src/Architecture/Constructors.jl#L317-L330">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.add_child" href="#Mapper2.MapperCore.add_child"><code>Mapper2.MapperCore.add_child</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">add_child(component, child::Component, name, [number])</code></pre><p>Add a deepcopy child component with the given instance <code>name</code> to a component. If <code>number</code> is provided, vectorize instantiation names. Throw error if <code>name</code> is  already used as an instance name for a child.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/188b7d7b8f74593ef125f94de64ed61a1a6b44ab/src/Architecture/Constructors.jl#L332-L338">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.add_link" href="#Mapper2.MapperCore.add_link"><code>Mapper2.MapperCore.add_link</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">add_link(component, src, dest; metadata = emptymeta(), linkname = &quot;&quot;)</code></pre><p>Construct a link with the given metadata from the source ports to the  destination ports. </p><p>Arguments <code>src</code> and <code>dst</code> may of type <code>String</code>, <code>Vector{String}</code>, <code>PortPath</code>,  or <code>Vector{PortPath}</code>. If keyword argument <code>linkname</code> is given, the instantiated link will be assigned that name. Otherwise, a unique name for the link will be generated.</p><p>An error is raised if:</p><ul><li>Port classes are incorrect for the direction of the link.</li><li>Ports in <code>src</code> or <code>dest</code> are already assigned to a link.</li><li>A link with the given name already exists in <code>c</code>.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/188b7d7b8f74593ef125f94de64ed61a1a6b44ab/src/Architecture/Constructors.jl#L340-L355">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.build_mux" href="#Mapper2.MapperCore.build_mux"><code>Mapper2.MapperCore.build_mux</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">build_mux(inputs, outputs; metadata = Dict{String,Any}())</code></pre><p>Build a mux with the specified number of inputs and outputs. Inputs and outputs will be named <code>in[0], in[1], … , in[inputs-1]</code> and outputs will be named <code>out[0], out[1], … , out[outputs-1]</code>.</p><p>If <code>metdata</code> is supplied, the dictionary will be attached to the mux component itself as well as all ports and links in the mux component.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/188b7d7b8f74593ef125f94de64ed61a1a6b44ab/src/Architecture/Constructors.jl#L357-L366">source</a></section><h2><a class="nav-anchor" id="Creating-Links-at-the-[TopLevel](@ref)-1" href="#Creating-Links-at-the-[TopLevel](@ref)-1">Creating Links at the <a href="components.html#Mapper2.MapperCore.TopLevel"><code>TopLevel</code></a></a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.Offset" href="#Mapper2.MapperCore.Offset"><code>Mapper2.MapperCore.Offset</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct Offset</code></pre><p><strong>Fields</strong></p><ul><li><p><code>offset</code></p><p>Offset to add to a source address to reach a destination address</p></li><li><p><code>source_port</code></p><p>Name of the source port to start a link at.</p></li><li><p><code>dest_port</code></p><p>Name of the destination port to end a link at.</p></li></ul><p><strong>Documentation</strong></p><p>Single rule for connecting ports at the <a href="components.html#Mapper2.MapperCore.TopLevel"><code>TopLevel</code></a></p><p><strong>Method List</strong></p><pre><code class="language-julia">Offset(offset, source_port, dest_port)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/188b7d7b8f74593ef125f94de64ed61a1a6b44ab//src/Architecture/Constructors.jl#L183"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Constructors.jl:183</code></a>.</p><pre><code class="language-julia">Offset(A, B, C)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/188b7d7b8f74593ef125f94de64ed61a1a6b44ab//src/Architecture/Constructors.jl#L192"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Constructors.jl:192</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/188b7d7b8f74593ef125f94de64ed61a1a6b44ab/src/Architecture/Constructors.jl#L163-L165">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.ConnectionRule" href="#Mapper2.MapperCore.ConnectionRule"><code>Mapper2.MapperCore.ConnectionRule</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct ConnectionRule</code></pre><p><strong>Fields</strong></p><ul><li><p><code>offsets</code></p><p><code>Vector{Offset}</code> - Collection of [<code>Offset</code>] rules to be applied to all source addresses that pass the filtering stage.</p></li></ul><ul><li><p><code>address_filter</code></p><p><code>Function</code> - Filter for source addresses. Default: <code>true</code></p></li><li><p><code>source_filter</code></p><p><code>Function</code> - Filter for source components. Default: <code>true</code></p></li><li><p><code>dest_filter</code></p><p><code>Function</code> - Filter for destination components. Default: <code>true</code></p></li></ul><p><strong>Documentation</strong></p><p>Global connection rule for connecting ports at the <a href="components.html#Mapper2.MapperCore.TopLevel"><code>TopLevel</code></a></p><p><strong>Method List</strong></p><pre><code class="language-julia">ConnectionRule(offsets, address_filter, source_filter, dest_filter)
ConnectionRule(offsets, address_filter, source_filter, dest_filter)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/188b7d7b8f74593ef125f94de64ed61a1a6b44ab//src/Architecture/Constructors.jl#L198"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Constructors.jl:198</code></a>.</p><pre><code class="language-julia">ConnectionRule(offsets; address_filter, source_filter, dest_filter)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/188b7d7b8f74593ef125f94de64ed61a1a6b44ab//src/Architecture/Constructors.jl#L220"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Constructors.jl:220</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/188b7d7b8f74593ef125f94de64ed61a1a6b44ab/src/Architecture/Constructors.jl#L194-L196">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.connection_rule" href="#Mapper2.MapperCore.connection_rule"><code>Mapper2.MapperCore.connection_rule</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">connection_rule(toplevel, rule::ConnectionRule; metadata = emptymeta())</code></pre><p>Apply <code>rule::ConnectionRule</code> to <code>toplevel</code>. Source addresses will first be filtered by <code>rule.address_filter</code>. Then, for each filtered address, the [<code>Component</code>] at that address will be passed to  <code>rule.source_filter</code>. </p><p>If the component passes, all elements in <code>rule.offsets</code> will be  applied, assuming the component at destination address passes <code>rule.dest_filter</code>. A new link will then be created provided it is safe to do so.</p><p><strong>Method List</strong></p><pre><code class="language-julia">connection_rule(toplevel, rule; kwargs...)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/188b7d7b8f74593ef125f94de64ed61a1a6b44ab//src/Architecture/Constructors.jl#L246"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Constructors.jl:246</code></a>.</p><pre><code class="language-julia">connection_rule(toplevel, rule; metadata)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/188b7d7b8f74593ef125f94de64ed61a1a6b44ab//src/Architecture/Constructors.jl#L255"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Constructors.jl:255</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/188b7d7b8f74593ef125f94de64ed61a1a6b44ab/src/Architecture/Constructors.jl#L226-L242">source</a></section><footer><hr/><a class="previous" href="components.html"><span class="direction">Previous</span><span class="title">AbstractComponent</span></a><a class="next" href="../taskgraph.html"><span class="direction">Next</span><span class="title">Taskgraph</span></a></footer></article></body></html>
