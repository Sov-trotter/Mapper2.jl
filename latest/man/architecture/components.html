<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>AbstractComponent · Mapper2.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Mapper2.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><span class="toctext">Architecture Modeling</span><ul><li><a class="toctext" href="types.html">Core Types</a></li><li class="current"><a class="toctext" href="components.html">AbstractComponent</a><ul class="internal"><li><a class="toctext" href="#Component-1">Component</a></li><li><a class="toctext" href="#TopLevel-1">TopLevel</a></li></ul></li><li><a class="toctext" href="constructors.html">Architecture Constructors</a></li></ul></li><li><a class="toctext" href="../taskgraph.html">Taskgraph</a></li><li><a class="toctext" href="../map.html">Map</a></li><li><a class="toctext" href="../extensions.html">Extensions</a></li><li><span class="toctext">Simulated Annealing Placement</span><ul><li><a class="toctext" href="../SA/placement.html">Simulated Annealing</a></li><li><a class="toctext" href="../SA/sastruct.html">SAStruct</a></li><li><a class="toctext" href="../SA/methods.html">Extentable Methods</a></li><li><a class="toctext" href="../SA/types.html">Extendable Types</a></li><li><a class="toctext" href="../SA/distance.html">SADistance</a></li><li><a class="toctext" href="../SA/move_generators.html">Move Generators</a></li><li><a class="toctext" href="../SA/map_tables.html">MapTables</a></li></ul></li><li><span class="toctext">Routing</span><ul><li><a class="toctext" href="../routing/routing.html">Routing</a></li><li><a class="toctext" href="../routing/struct.html">Routing Struct</a></li><li><a class="toctext" href="../routing/links.html">Routing Links</a></li><li><a class="toctext" href="../routing/channels.html">Routing Channels</a></li><li><a class="toctext" href="../routing/graph.html">Routing Graph</a></li></ul></li><li><a class="toctext" href="../mappergraphs.html">MapperGraphs</a></li><li><a class="toctext" href="../helper.html">Helper Functions</a></li><li><a class="toctext" href="../paths.html">Paths</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li>Architecture Modeling</li><li><a href="components.html">AbstractComponent</a></li></ul><a class="edit-page" href="https://github.com/hildebrandmw/Mapper2.jl/blob/master/docs/src/man/architecture/components.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>AbstractComponent</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="AbstractComponent-1" href="#AbstractComponent-1">AbstractComponent</a></h1><p>Architecture blocks are modelled as a subtype of <code>AbstractComponent</code>. There are two main subtypes: <a href="components.html#Mapper2.MapperCore.Component"><code>Component</code></a>, which represents all blocks that are not at the top level of an architecture model, and <a href="components.html#Mapper2.MapperCore.TopLevel"><code>TopLevel</code></a>. There is only <a href="components.html#Mapper2.MapperCore.TopLevel"><code>TopLevel</code></a> per architecture model.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.getaddress" href="#Mapper2.MapperCore.getaddress"><code>Mapper2.MapperCore.getaddress</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">getaddress(item)</code></pre><p>Single argument version: Return an address encapsulated in <code>item</code>.</p><pre><code class="language-none">getaddress(item, index)</code></pre><p>Get an address from <code>item</code> referenced by <code>index</code>.</p><p><strong>Method List</strong></p><pre><code class="language-julia">getaddress(toplevel, path)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd//src/Architecture/Architecture.jl#L324"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Architecture.jl:324</code></a>.</p><pre><code class="language-julia">getaddress(toplevel, str)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd//src/Architecture/Architecture.jl#L325"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Architecture.jl:325</code></a>.</p><pre><code class="language-julia">getaddress(map, nodename)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd//src/Map/Map.jl#L87"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Map/Map.jl:87</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L294-L306">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.check" href="#Mapper2.MapperCore.check"><code>Mapper2.MapperCore.check</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">check(c::AbstractComponent)</code></pre><p>Check a component for ports that are not connected to any link. Only applies to ports visible to the level of hierarchy of <code>c</code>. That is, children of <code>c</code> will not be checked.</p><p>Returns a <code>Vector{PortPath}</code> of unused ports.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Methods.jl#L18-L26">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.children" href="#Mapper2.MapperCore.children"><code>Mapper2.MapperCore.children</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Return an iterator for the children within a component.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L112">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.getindex" href="#Base.getindex"><code>Base.getindex</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">getindex(component, path::Path{T})::T where T &lt;: Union{Port,Link,Component}</code></pre><p>Return the architecture type referenced by <code>path</code>. Error horribly if <code>path</code> does not exist.</p><pre><code class="language-none">getindex(toplevel, address)::Component</code></pre><p>Return the top level component of <code>toplevel</code> at <code>address</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L380-L389">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.links" href="#Mapper2.MapperCore.links"><code>Mapper2.MapperCore.links</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Return an iterator for links within the component.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L115">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.walk_children" href="#Mapper2.MapperCore.walk_children"><code>Mapper2.MapperCore.walk_children</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">walk_children(component::AbstractComponent, [address]) :: Vector{Path{Component}}</code></pre><p>Return relative paths to all the children of <code>component</code>. If <code>address</code> is given return relative paths to all components at <code>address</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L393-L398">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.search_metadata" href="#Mapper2.MapperCore.search_metadata"><code>Mapper2.MapperCore.search_metadata</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">search_metadata(c::AbstractComponent, key, value, f::Function = ==)</code></pre><p>Search the metadata of field of <code>c</code> for <code>key</code>. If <code>c.metadata[key]</code> does not exist, return <code>false</code>. Otherwise, return <code>f(value, c.metadata[key])</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L504-L509">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.search_metadata!" href="#Mapper2.MapperCore.search_metadata!"><code>Mapper2.MapperCore.search_metadata!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">search_metadata!(c::AbstractComponent, key, value, f::Function = ==)</code></pre><p>Call <code>search_metadata</code> on each subcomponent of <code>c</code>. Return <code>true</code> if function call return <code>true</code> for any subcomponent.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L511-L516">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.visible_ports" href="#Mapper2.MapperCore.visible_ports"><code>Mapper2.MapperCore.visible_ports</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">visible_ports(component::AbstractComponent)</code></pre><p>Return <code>Vector{PortPath}</code> of the ports of <code>component</code> and the ports of the  children of <code>component</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Methods.jl#L61-L66">source</a></section><h2><a class="nav-anchor" id="Component-1" href="#Component-1">Component</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.Component" href="#Mapper2.MapperCore.Component"><code>Mapper2.MapperCore.Component</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct Component &lt;: AbstractComponent</code></pre><p><strong>Fields</strong></p><ul><li><p><code>name</code></p></li><li><p><code>primitive</code></p></li><li><p><code>children</code></p><p>Sub-components of this component. Indexed by instance name.</p></li><li><p><code>ports</code></p><p>Ports instantiated directly by this component. Indexed by instance name.</p></li><li><p><code>links</code></p><p>Links instantiated directly by this component. Indexed by instance name.</p></li><li><p><code>portlink</code></p><p>Record of the <code>Link</code> (by name) attached to a <code>Port</code>, keyed by <code>Path{Port}</code>. Length of each <code>Path{Port}</code> must be 1 or 2, to reference ports either instantiated by this component directly, or by one of this component&#39;s immediate children.j</p></li></ul><ul><li><p><code>metadata</code></p><p><code>Dict{String,Any}</code> for holding any extra data needed by the user.</p></li></ul><p><strong>Documentation</strong></p><p>Basic building block of architecture models. Can be used to construct hierarchical models.</p><p><strong>Method List</strong></p><pre><code class="language-julia">Component(name, primitive, children, ports, links, portlink, metadata)
Component(name, primitive, children, ports, links, portlink, metadata)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd//src/Architecture/Architecture.jl#L126"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Architecture.jl:126</code></a>.</p><pre><code class="language-julia">Component(name; primitive, metadata)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd//src/Architecture/Architecture.jl#L154"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Architecture/Architecture.jl:154</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L121-L124">source</a></section><p>The following methods apply only to concrete [<code>Component</code>] types:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.ports" href="#Mapper2.MapperCore.ports"><code>Mapper2.MapperCore.ports</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">ports(component, [classes])</code></pre><p>Return an iterator for all the ports of the given component. Ports of children are not given. If <code>classes</code> are provided, only ports matching the specified classes will be returned.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L205-L211">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.portpaths" href="#Mapper2.MapperCore.portpaths"><code>Mapper2.MapperCore.portpaths</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">portpaths(component, [classes])::Vector{Path{Port}}</code></pre><p>Return <code>Path</code>s to all ports immediately instantiated in <code>component</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L213-L217">source</a></section><h2><a class="nav-anchor" id="TopLevel-1" href="#TopLevel-1">TopLevel</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.TopLevel" href="#Mapper2.MapperCore.TopLevel"><code>Mapper2.MapperCore.TopLevel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct TopLevel{D} &lt;: AbstractComponent</code></pre><p><strong>Fields</strong></p><ul><li><p><code>name</code></p></li><li><p><code>children</code></p><p>Direct children of the <code>TopLevel</code>, indexed by instance name.</p></li><li><p><code>child_to_address</code></p><p>Translation from child instance name to the <code>Address</code> that child occupies.</p></li><li><p><code>address_to_child</code></p><p>Translation from <code>Address</code> to the <code>Component</code> at that address.</p></li><li><p><code>links</code></p><p><code>Link</code>s instantiated directly by the <code>TopLevel</code>.</p></li><li><p><code>portlink</code></p><p>Record of which <code>Link</code>s are attached to which <code>Port</code>s. Indexed by `Path{Port}.</p></li><li><p><code>metadata</code></p></li></ul><p><strong>Documentation</strong></p><p>Top level component for an architecture mode. Main difference is between a <code>TopLevel</code> and a <code>Component</code> is that children of a <code>TopLevel</code> are accessed via address instead of instance name. A <code>TopLevel</code> also does not have any ports of its own.</p><p>Parameter <code>D</code> is the dimensionality of the <code>TopLevel</code>.</p><p><strong>Method List</strong></p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L222-L229">source</a></section><p>The following methods apply only <a href="components.html#Mapper2.MapperCore.TopLevel"><code>TopLevel</code></a> types:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.addresses" href="#Mapper2.MapperCore.addresses"><code>Mapper2.MapperCore.addresses</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">addresses(toplevel)
</code></pre><p>Return an iterator of all addresses with subcomponents in <code>toplevel</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L285-L287">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.hasaddress" href="#Mapper2.MapperCore.hasaddress"><code>Mapper2.MapperCore.hasaddress</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">hasaddress(toplevel, path)</code></pre><p>Return <code>true</code> if the item referenced by <code>path</code> has an <code>Address</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L309-L313">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.isaddress" href="#Mapper2.MapperCore.isaddress"><code>Mapper2.MapperCore.isaddress</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">isaddress(toplevel, address)</code></pre><p>Return <code>true</code> if <code>address</code> exists in <code>toplevel</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L316-L320">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.connected_components" href="#Mapper2.MapperCore.connected_components"><code>Mapper2.MapperCore.connected_components</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">connected_components(toplevel::TopLevel{A,D})::Dict{Address{D}, Set{Address{D}}</code></pre><p>Return <code>d</code> where key <code>k</code> is a valid address of <code>tl</code> and where <code>d[k]</code> is the set of valid addresses of <code>tl</code> whose components are the destinations of links originating at address <code>k</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Architecture.jl#L496-L502">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.mappables" href="#Mapper2.MapperCore.mappables"><code>Mapper2.MapperCore.mappables</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">mappables(a::TopLevel{D}, address::Address{D})</code></pre><p>Return a <code>Vector{Path{Component}}</code> of paths to mappable components at <code>address</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Methods.jl#L5-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.MapperCore.isconnected" href="#Mapper2.MapperCore.isconnected"><code>Mapper2.MapperCore.isconnected</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">isconnected(toplevel, a::AbstractPath, b::AbstractPath)</code></pre><p>Return <code>true</code> if architectural component referenced by path <code>a</code> is architecturally connected to that referenced by path <code>b</code>.</p><p>The order of the arguments is important for directed components. For example, if <code>a</code> references a port that is a source for link <code>b</code> in <code>toplevel</code>, then</p><pre><code class="language-julia">julia&gt; isconnected(toplevel, a, b)
true

julia&gt; isconnected(toplevel, b, a)
false</code></pre><p>If one of <code>a</code> or <code>b</code> is of type <code>ComponentPath</code>, then only ports are considered connected.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/8c6ca5c1151717041d7f74ecc22f6d21a8cc28dd/src/Architecture/Methods.jl#L229-L248">source</a></section><footer><hr/><a class="previous" href="types.html"><span class="direction">Previous</span><span class="title">Core Types</span></a><a class="next" href="constructors.html"><span class="direction">Next</span><span class="title">Architecture Constructors</span></a></footer></article></body></html>
